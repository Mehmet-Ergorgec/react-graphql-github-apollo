(this["webpackJsonpreact-graphql-github-apollo"]=this["webpackJsonpreact-graphql-github-apollo"]||[]).push([[0],{42:function(e,t,n){},58:function(e,t,n){e.exports=n(84)},63:function(e,t,n){},64:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(46),i=n.n(o),s=n(10),c=n(27),u=n(13),l=n(56),m=n(52),d=n(53),p=n(54),f=(n(63),n(23)),b=n(24),g=n(26),v=n(25),y=n(33),h=n(9),E=n(14),O=n(15),N=n.n(O),S=n(86),j=n(19),w=n(22),I=n(5);function C(){var e=Object(E.a)(["\n  fragment repository on Repository {\n    id\n    name\n    url\n    descriptionHTML\n    primaryLanguage {\n      name\n    }\n    owner {\n      login\n      url\n    }\n    stargazers {\n      totalCount\n    }\n    viewerHasStarred\n    watchers {\n      totalCount\n    }\n    viewerSubscription\n  }\n"]);return C=function(){return e},e}var M=N()(C()),k=n(20),$=function(e){var t=e.children,n=Object(k.a)(e,["children"]);return a.a.createElement("a",Object.assign({},n,{target:"_blank",rel:"noopener noreferrer"}),t)},z=(n(64),function(e){var t=e.children,n=e.className,r=e.type,o=void 0===r?"button":r,i=Object(k.a)(e,["children","className","type"]);return a.a.createElement("button",Object.assign({className:"".concat(n," Button_unobtrusive"),type:o},i),t)}),R=function(e){var t=e.children,n=e.className,r=e.color,o=void 0===r?"black":r,i=e.type,s=void 0===i?"button":i,c=Object(k.a)(e,["children","className","color","type"]);return a.a.createElement("button",Object.assign({className:"".concat(n," Button Button_").concat(o),type:s},c),t)};n(42);function _(){var e=Object(E.a)(["\n  mutation($id: ID!, $viewerSubscription: SubscriptionState!) {\n    updateSubscription(input: { state: $viewerSubscription, subscribableId: $id }) {\n      subscribable {\n        id\n        viewerSubscription\n      }\n    }\n  }\n"]);return _=function(){return e},e}function L(){var e=Object(E.a)(["\n  mutation($id: ID!) {\n    removeStar(input: { starrableId: $id }) {\n      starrable {\n        id\n        viewerHasStarred\n      }\n    }\n  }\n"]);return L=function(){return e},e}function x(){var e=Object(E.a)(["\n  mutation($id: ID!) {\n    addStar(input: { starrableId: $id }) {\n      starrable {\n        id\n        viewerHasStarred\n      }\n    }\n  }\n"]);return x=function(){return e},e}var H=N()(x()),P=N()(L()),q=N()(_()),F="SUBSCRIBED",T="UNSUBSCRIBED",A=function(e){return e===F},B=function(e,t){var n=t.data.updateSubscription.subscribable,r=n.id,a=n.viewerSubscription,o=e.readFragment({id:"Repository:".concat(r),fragment:M}),i=o.watchers.totalCount;i=a===F?i+1:i-1,e.writeFragment({id:"Repository:".concat(r),fragment:M,data:Object(I.a)(Object(I.a)({},o),{},{watchers:Object(I.a)(Object(I.a)({},o.watchers),{},{totalCount:i})})})},D=function(e,t){var n=t.data.addStar.starrable,r=n.id,a=n.viewerHasStarred;e.writeFragment({id:"Repository:".concat(r),fragment:M,data:U(e,r,a)})},Q=function(e,t){var n=t.data.removeStar.starrable,r=n.id,a=n.viewerHasStarred;e.writeFragment({id:"Repository:".concat(r),fragment:M,data:U(e,r,a)})},U=function(e,t,n){var r=e.readFragment({id:"Repository:".concat(t),fragment:M}),a=r.stargazers.totalCount;return a=n?a+1:a-1,Object(I.a)(Object(I.a)({},r),{},{stargazers:Object(I.a)(Object(I.a)({},r.stargazers),{},{totalCount:a})})},G=function(e){var t=e.id,n=e.name,r=e.url,o=e.descriptionHTML,i=e.primaryLanguage,s=e.owner,c=e.stargazers,u=e.watchers,l=e.viewerSubscription,m=e.viewerHasStarred;return a.a.createElement("div",null,a.a.createElement("div",{className:"RepositoryItem-title"},a.a.createElement("h2",null,a.a.createElement($,{href:r},n)),a.a.createElement("div",null,a.a.createElement(S.a,{mutation:q,update:B,optimisticResponse:{updateSubscription:{__typename:"Mutation",subscribable:{__typename:"Repository",id:t,viewerSubscription:A(l)?T:F}}},variables:{id:t,viewerSubscription:A(l)?T:F}},(function(e,t){t.data,t.loading,t.error;return a.a.createElement(R,{className:"RepositoryItem-title-action","data-test-id":"updateSubscription",onClick:e},u.totalCount," ",A(l)?"Unwatch":"Watch")})),m?a.a.createElement(S.a,{mutation:P,update:Q,optimisticResponse:{removeStar:{__typename:"Mutation",starrable:{__typename:"Repository",id:t,viewerHasStarred:!m}}},variables:{id:t}},(function(e,t){t.data,t.loading,t.error;return a.a.createElement(R,{className:"RepositoryItem-title-action",onClick:e},c.totalCount," Unstar")})):a.a.createElement(S.a,{mutation:H,update:D,optimisticResponse:{addStar:{__typename:"Mutation",starrable:{__typename:"Repository",id:t,viewerHasStarred:!m}}},variables:{id:t}},(function(e,t){t.data,t.loading,t.error;return a.a.createElement(R,{className:"RepositoryItem-title-action",onClick:e},c.totalCount," Star")})))),a.a.createElement("div",{className:"RepositoryItem-description"},a.a.createElement("div",{className:"RepositoryItem-description-info",dangerouslySetInnerHTML:{__html:o}}),a.a.createElement("div",{className:"RepositoryItem-description-details"},a.a.createElement("div",null,i&&a.a.createElement("span",null,"Language: ",i.name)),a.a.createElement("div",null,s&&a.a.createElement("span",null,"Owner: ",a.a.createElement("a",{href:s.url},s.login))))))},J=(n(69),function(e){Object(g.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(f.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={dots:0},e.onTick=function(){e.setState((function(e){return{dots:(e.dots+1)%4}}))},e}return Object(b.a)(n,[{key:"componentDidMount",value:function(){this.interval=setInterval(this.onTick,500)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.props.isCenter,t=this.state.dots,n=["Loading"];return e&&n.push("Loading_center"),a.a.createElement("div",{className:n.join(" ")},a.a.createElement("small",null,"Loading ",new Array(t).fill(0).map((function(e){return"."}))))}}]),n}(r.Component)),W=(n(70),function(e){var t=e.loading,n=e.hasNextPage,r=e.variables,o=e.updateQuery,i=e.fetchMore,s=e.children;return a.a.createElement("div",{className:"FetchMore"},t?a.a.createElement(J,null):n&&a.a.createElement(z,{className:"FetchMore-button",onClick:function(){return i({variables:r,updateQuery:o})}},"More ",s))}),Z=n(55);function K(){var e=Object(E.a)(["\n  query(\n    $repositoryOwner: String!\n    $repositoryName: String!\n    $issueState: IssueState!\n    $cursor: String\n  ) {\n    repository(name: $repositoryName, owner: $repositoryOwner) {\n      issues(first: 5, states: [$issueState], after: $cursor) {\n        edges {\n          node {\n            id\n            number\n            state\n            title\n            url\n            bodyHTML\n          }\n        }\n        pageInfo {\n          endCursor\n          hasNextPage\n        }\n      }\n    }\n  }\n"]);return K=function(){return e},e}var V=N()(K()),X=n(57);function Y(){var e=Object(E.a)(["\n  query($repositoryOwner: String!, $repositoryName: String!, $number: Int!, $cursor: String) {\n    repository(name: $repositoryName, owner: $repositoryOwner) {\n      issue(number: $number) {\n        id\n        comments(first: 1, after: $cursor) {\n          edges {\n            node {\n              id\n              bodyHTML\n              author {\n                login\n              }\n            }\n          }\n          pageInfo {\n            endCursor\n            hasNextPage\n          }\n        }\n      }\n    }\n  }\n"]);return Y=function(){return e},e}var ee=N()(Y()),te=(n(71),function(e){var t=e.comment;return a.a.createElement("div",{className:"CommentItem"},a.a.createElement("div",null,t.author.login,":"),"\xa0",a.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.bodyHTML}}))});function ne(){var e=Object(E.a)(["\n  mutation($subjectId: ID!, $body: String!) {\n    addComment(input: { subjectId: $subjectId, body: $body }) {\n      commentEdge {\n        node {\n          body\n        }\n      }\n    }\n  }\n"]);return ne=function(){return e},e}var re,ae,oe=N()(ne()),ie=(n(72),function(e){var t=e.children,n=Object(k.a)(e,["children"]);return a.a.createElement("textarea",Object.assign({className:"TextArea"},n),t)}),se=(n(73),function(e){var t=e.error;return a.a.createElement("div",{className:"ErrorMessage"},a.a.createElement("small",null,t.toString()))}),ce=function(e){Object(g.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(f.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={value:""},e.onChange=function(t){e.setState({value:t})},e.onSubmit=function(t,n){n().then((function(){return e.setState({value:""})})),t.preventDefault()},e}return Object(b.a)(n,[{key:"render",value:function(){var e=this,t=this.props.issueId,n=this.state.value;return a.a.createElement(S.a,{mutation:oe,variables:{body:n,subjectId:t}},(function(t,r){r.data,r.loading;var o=r.error;return a.a.createElement("div",null,o&&a.a.createElement(se,{error:o}),a.a.createElement("form",{onSubmit:function(n){return e.onSubmit(n,t)}},a.a.createElement(ie,{value:n,onChange:function(t){return e.onChange(t.target.value)},placeholder:"Leave a comment"}),a.a.createElement(R,{type:"submit"},"Comment")))}))}}]),n}(r.Component),ue=(n(74),function(e,t){var n=t.fetchMoreResult;return n?Object(I.a)(Object(I.a)({},e),{},{repository:Object(I.a)(Object(I.a)({},e.repository),{},{issue:Object(I.a)(Object(I.a)(Object(I.a)({},e.repository.issue),n.repository.issue),{},{comments:Object(I.a)(Object(I.a)(Object(I.a)({},e.repository.issue.comments),n.repository.issue.comments),{},{edges:[].concat(Object(w.a)(e.repository.issue.comments.edges),Object(w.a)(n.repository.issue.comments.edges))})})})}):e}),le=function(e){var t=e.comments,n=e.loading,r=e.repositoryOwner,o=e.repositoryName,i=e.number,s=e.fetchMore;return a.a.createElement("div",{className:"CommentList"},t.edges.map((function(e){var t=e.node;return a.a.createElement(te,{key:t.id,comment:t})})),a.a.createElement(W,{loading:n,hasNextPage:t.pageInfo.hasNextPage,variables:{cursor:t.pageInfo.endCursor,repositoryOwner:r,repositoryName:o,number:i},updateQuery:ue,fetchMore:s},"Comments"))},me=function(e){var t=e.repositoryOwner,n=e.repositoryName,o=e.issue;return a.a.createElement(S.b,{query:ee,variables:{repositoryOwner:t,repositoryName:n,number:o.number},notifyOnNetworkStatusChange:!0},(function(e){var i=e.data,s=e.loading,c=e.error,u=e.fetchMore;if(c)return a.a.createElement(se,{error:c});var l=(i||!1).repository;return s&&!l?a.a.createElement(J,null):a.a.createElement(r.Fragment,null,a.a.createElement(le,{comments:l.issue.comments,loading:s,number:o.number,repositoryOwner:t,repositoryName:n,fetchMore:u}),a.a.createElement(ce,{issueId:l.issue.id}))}))},de=(n(75),Object(X.a)("isShowComments","onShowComments",!1)((function(e){var t=e.issue,n=e.repositoryOwner,r=e.repositoryName,o=e.isShowComments,i=e.onShowComments;return a.a.createElement("div",{className:"IssueItem"},a.a.createElement(R,{onClick:function(){return i(!o)}},o?"-":"+"),a.a.createElement("div",{className:"IssueItem-content"},a.a.createElement("h3",null,a.a.createElement($,{href:t.url},t.title)),a.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.bodyHTML}}),o&&a.a.createElement(me,{repositoryOwner:n,repositoryName:r,issue:t})))}))),pe=(n(76),"NONE"),fe="OPEN",be="CLOSED",ge=(re={},Object(j.a)(re,pe,"Show Open Issues"),Object(j.a)(re,fe,"Show Closed Issues"),Object(j.a)(re,be,"Hide Issues"),re),ve=(ae={},Object(j.a)(ae,pe,fe),Object(j.a)(ae,fe,be),Object(j.a)(ae,be,pe),ae),ye=function(e,t){var n=t.fetchMoreResult;return n?Object(I.a)(Object(I.a)({},e),{},{repository:Object(I.a)(Object(I.a)({},e.repository),{},{issues:Object(I.a)(Object(I.a)(Object(I.a)({},e.repository.issues),n.repository.issues),{},{edges:[].concat(Object(w.a)(e.repository.issues.edges),Object(w.a)(n.repository.issues.edges))})})}):e},he=function(e){return e!==pe},Ee=function(e){var t=e.repositoryOwner,n=e.repositoryName,r=e.issueState,o=e.onChangeIssueState;return a.a.createElement(s.a,null,(function(e){return a.a.createElement(z,{onClick:function(){return o(ve[r])},onMouseOver:function(){return function(e,t,n,r){var a=ve[r];he(a)&&e.query({query:V,variables:{repositoryOwner:t,repositoryName:n,issueState:a}})}(e,t,n,r)}},ge[r])}))},Oe=function(e){var t=e.issues,n=e.loading,r=e.repositoryOwner,o=e.repositoryName,i=e.issueState,s=e.fetchMore;return a.a.createElement("div",{className:"IssueList"},t.edges.map((function(e){var t=e.node;return a.a.createElement(de,{key:t.id,issue:t,repositoryOwner:r,repositoryName:o})})),a.a.createElement(W,{loading:n,hasNextPage:t.pageInfo.hasNextPage,variables:{cursor:t.pageInfo.endCursor,repositoryOwner:r,repositoryName:o,issueState:i},updateQuery:ye,fetchMore:s},"Issues"))},Ne=function(e){var t=e.repositoryOwner,n=e.repositoryName,o=Object(r.useState)(pe),i=Object(Z.a)(o,2),s=i[0],c=i[1];return a.a.createElement("div",{className:"Issues"},a.a.createElement(Ee,{repositoryOwner:t,repositoryName:n,issueState:s,onChangeIssueState:function(e){c(e)}}),he(s)&&a.a.createElement(S.b,{query:V,variables:{repositoryOwner:t,repositoryName:n,issueState:s},notifyOnNetworkStatusChange:!0},(function(e){var r=e.data,o=e.loading,i=e.error,c=e.fetchMore;if(i)return a.a.createElement(se,{error:i});var u=(r||!1).repository;return o&&!u?a.a.createElement(J,null):{edges:u.issues.edges.filter((function(e){return e.node.state===s}))}.edges.length?a.a.createElement(Oe,{issues:u.issues,fetchMore:c,loading:o,repositoryOwner:t,repositoryName:n,issueState:s}):a.a.createElement("div",{className:"IssueList"},"No issues ...")})))},Se=function(e){return function(t,n){var r=n.fetchMoreResult;return r?Object(I.a)(Object(I.a)({},t),{},Object(j.a)({},e,Object(I.a)(Object(I.a)({},t[e]),{},{repositories:Object(I.a)(Object(I.a)(Object(I.a)({},t[e].repositories),r[e].repositories),{},{edges:[].concat(Object(w.a)(t[e].repositories.edges),Object(w.a)(r[e].repositories.edges))})}))):t}},je=function(e){var t=e.repositories,n=e.fetchMore,o=e.loading,i=e.entry;return a.a.createElement(r.Fragment,null,t.edges.map((function(e){var t=e.node;return a.a.createElement("div",{key:t.id,className:"RepositoryItem"},a.a.createElement(G,t),a.a.createElement(Ne,{repositoryName:t.name,repositoryOwner:t.owner.login}))})),a.a.createElement(W,{loading:o,hasNextPage:t.pageInfo.hasNextPage,variables:{cursor:t.pageInfo.endCursor},updateQuery:Se(i),fetchMore:n},"Repositories"))};n(77);function we(){var e=Object(E.a)(["\n  query($cursor: String) {\n    viewer {\n      repositories(first: 5, orderBy: { direction: DESC, field: STARGAZERS }, after: $cursor) {\n        edges {\n          node {\n            ...repository\n          }\n        }\n        pageInfo {\n          endCursor\n          hasNextPage\n        }\n      }\n    }\n  }\n  ","\n"]);return we=function(){return e},e}var Ie=N()(we(),M),Ce=function(){return a.a.createElement(S.b,{query:Ie,notifyOnNetworkStatusChange:!0},(function(e){var t=e.data,n=e.loading,r=e.error,o=e.fetchMore,i=(t||!1).viewer;return r?a.a.createElement(se,{error:r}):n&&!i?a.a.createElement(J,null):a.a.createElement(je,{loading:n,repositories:i.repositories,fetchMore:o,entry:"viewer"})}))};function Me(){var e=Object(E.a)(["\n  query($organizationName: String!, $cursor: String) {\n    organization(login: $organizationName) {\n      repositories(first: 5, after: $cursor) {\n        edges {\n          node {\n            ...repository\n          }\n        }\n        pageInfo {\n          endCursor\n          hasNextPage\n        }\n      }\n    }\n  }\n  ","\n"]);return Me=function(){return e},e}var ke=N()(Me(),M),$e=function(e){var t=e.organizationName;return a.a.createElement(S.b,{query:ke,variables:{organizationName:t},skip:""===t,notifyOnNetworkStatusChange:!0},(function(e){var t=e.data,n=e.loading,r=e.error,o=e.fetchMore;if(r)return a.a.createElement(se,{error:r});var i=(t||!1).organization;return n&&!i?a.a.createElement(J,null):a.a.createElement(je,{loading:n,repositories:i.repositories,fetchMore:o,entry:"organization"})}))},ze=(n(78),function(e){var t=e.children,n=e.color,r=void 0===n?"black":n,o=Object(k.a)(e,["children","color"]);return a.a.createElement("input",Object.assign({className:"Input Input_".concat(r)},o),t)}),Re=(n(79),function(e){Object(g.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(f.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={value:e.props.organizationName},e.onChange=function(t){e.setState({value:t.target.value})},e.onSubmit=function(t){e.props.onOrganizationSearch(e.state.value),t.preventDefault()},e}return Object(b.a)(n,[{key:"render",value:function(){var e=this.state.value;return a.a.createElement("div",{className:"Navigation-search"},a.a.createElement("form",{onSubmit:this.onSubmit},a.a.createElement(ze,{color:"white",type:"text",value:e,onChange:this.onChange})," ",a.a.createElement(R,{color:"white",type:"submit"},"Search")))}}]),n}(a.a.Component)),_e=Object(h.e)((function(e){var t=e.location.pathname,n=e.organizationName,r=e.onOrganizationSearch;return a.a.createElement("header",{className:"Navigation"},a.a.createElement("div",{className:"Navigation-link"},a.a.createElement(y.b,{to:"/profile"},"Profile")),a.a.createElement("div",{className:"Navigation-link"},a.a.createElement(y.b,{to:"/"},"Organization")),"/"===t&&a.a.createElement(Re,{organizationName:n,onOrganizationSearch:r}))})),Le=(n(82),function(){return a.a.createElement("div",{className:"Footer"},a.a.createElement("div",null,a.a.createElement("small",null,a.a.createElement("span",{className:"Footer-text"},"Built by")," ",a.a.createElement($,{className:"Footer-link",href:"https://github.com/Mehmet-Ergorgec"},"Me")," ",a.a.createElement("span",{className:"Footer-text"},"with \u2665"))))}),xe=(n(83),function(e){Object(g.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(f.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={organizationName:"hackyourfuture"},e.onOrganizationSearch=function(t){e.setState({organizationName:t})},e}return Object(b.a)(n,[{key:"render",value:function(){var e=this.state.organizationName;return a.a.createElement(y.a,null,a.a.createElement("div",{className:"App"},a.a.createElement(_e,{organizationName:e,onOrganizationSearch:this.onOrganizationSearch}),a.a.createElement("div",{className:"App-main"},a.a.createElement(h.a,{exact:!0,path:"/",component:function(){return a.a.createElement("div",{className:"App-content_large-header"},a.a.createElement($e,{organizationName:e}))}}),a.a.createElement(h.a,{exact:!0,path:"/profile",component:function(){return a.a.createElement("div",{className:"App-content_small-header"},a.a.createElement(Ce,null))}})),a.a.createElement(Le,null)))}}]),n}(r.Component)),He=Object(m.a)((function(e){var t=e.graphQLErrors,n=e.networkError;t&&t.map((function(e){var t=e.message,n=e.locations,r=e.path;return console.log("[GraphQL error]: Message: ".concat(t,", Location: ").concat(n,", Path: ").concat(r))})),n&&console.log("[Network error]: ".concat(n))})),Pe=new d.a({delay:{initial:300,max:1/0,jitter:!0},attempts:{max:5,retryIf:function(e,t){return!!e}}}),qe=new l.a({uri:"https://api.github.com/graphql",headers:{authorization:"Bearer ".concat("f412400a5c2c6b3634c9e2dd182898aeb8323146")}}),Fe=u.a.from([He,Pe,qe]),Te=new p.a,Ae=new c.a({link:Fe,cache:Te});i.a.render(a.a.createElement(s.b,{client:Ae},a.a.createElement(xe,null)),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.3bdc18af.chunk.js.map